<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DAS - Plataforma Institucional</title>

<style>
:root{
    --azul:#0B1F3A;
    --azul-sec:#163A6B;
    --azul-brillante:#1F4E8C;
    --verde:#00B386;
    --rojo:#c0392b;
    --gris:#f4f6f9;
}

body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    background:var(--gris);
}

header{
    background:var(--azul);
    color:white;
    padding:20px;
    text-align:center;
}

.section{
    background:white;
    margin:30px auto;
    padding:30px;
    max-width:1000px;
    border-radius:12px;
    box-shadow:0 5px 20px rgba(0,0,0,0.08);
}

h2{ color:var(--azul-sec); }

input, select{
    width:100%;
    padding:12px;
    margin:8px 0;
    border:1px solid #ccc;
    border-radius:6px;
}

button{
    padding:12px 20px;
    background:var(--azul-brillante);
    color:white;
    border:none;
    border-radius:6px;
    cursor:pointer;
    margin-top:10px;
}

button:hover{ background:var(--azul-sec); }

.logout{ background:var(--rojo); }

.hidden{ display:none; }

table{
    width:100%;
    border-collapse:collapse;
    margin-top:20px;
}

th, td{
    border:1px solid #ddd;
    padding:10px;
    text-align:center;
}

th{
    background:var(--azul-sec);
    color:white;
}

.info-box{
    background:#eaf2ff;
    padding:15px;
    border-radius:8px;
    margin-bottom:15px;
}

@media(max-width:768px){
    .section{ margin:20px; padding:20px; }
}
</style>
</head>

<body>

<header>
    <h1>DAS - Sistema de Gestión Institucional</h1>
</header>

<!-- LOGIN -->
<div class="section" id="loginSection">
    <h2>Acceso Plataforma</h2>
    <input type="text" id="usuario" placeholder="Usuario">
    <input type="password" id="password" placeholder="Contraseña">
    <button onclick="login()">Ingresar</button>
</div>

<!-- PANEL CAPACITADOR -->
<div class="section hidden" id="panelCapacitador">

    <h2>Panel del Capacitador</h2>
    <button class="logout" onclick="logout()">Cerrar sesión</button>

    <div class="info-box">
        <strong>Plan activo:</strong> Suscripción Mensual<br>
        <strong>Solicitudes utilizadas:</strong> 
        <span id="contador">0</span> / 15
    </div>

    <h3>Registrar Alumno</h3>
    <input type="text" id="nombreAlumno" placeholder="Nombre completo">
    <input type="text" id="dniAlumno" placeholder="DNI">
    <input type="text" id="cursoAlumno" placeholder="Curso realizado">
    <button onclick="agregarAlumno()">Generar Solicitud</button>

    <h3>Solicitudes Generadas</h3>
    <table>
        <thead>
            <tr>
                <th>Alumno</th>
                <th>DNI</th>
                <th>Curso</th>
                <th>Estado</th>
            </tr>
        </thead>
        <tbody id="tablaAlumnos"></tbody>
    </table>
</div>

<!-- PANEL ADMIN -->
<div class="section hidden" id="panelAdmin">

    <h2>Panel Administrador DAS</h2>
    <button class="logout" onclick="logout()">Cerrar sesión</button>

    <div class="info-box">
        <strong>Total solicitudes registradas:</strong> 
        <span id="totalSolicitudes">0</span>
    </div>

    <table>
        <thead>
            <tr>
                <th>Capacitador</th>
                <th>Alumno</th>
                <th>DNI</th>
                <th>Curso</th>
                <th>Estado</th>
            </tr>
        </thead>
        <tbody id="tablaAdmin"></tbody>
    </table>
</div>

<script>

let contador = 0;
let totalGlobal = 0;
const LIMITE = 15;

/* LOGIN */
function login(){
    const user = document.getElementById("usuario").value;
    const pass = document.getElementById("password").value;

    if(user === "capacitador" && pass === "1234"){
        document.getElementById("loginSection").classList.add("hidden");
        document.getElementById("panelCapacitador").classList.remove("hidden");
    }
    else if(user === "admin" && pass === "admin123"){
        document.getElementById("loginSection").classList.add("hidden");
        document.getElementById("panelAdmin").classList.remove("hidden");
    }
    else{
        alert("Usuario o contraseña incorrectos");
    }
}

/* LOGOUT */
function logout(){
    document.getElementById("panelCapacitador").classList.add("hidden");
    document.getElementById("panelAdmin").classList.add("hidden");
    document.getElementById("loginSection").classList.remove("hidden");
}

/* AGREGAR ALUMNO */
function agregarAlumno(){

    if(contador >= LIMITE){
        alert("Ha alcanzado el límite mensual de 15 solicitudes.");
        return;
    }

    const nombre = document.getElementById("nombreAlumno").value;
    const dni = document.getElementById("dniAlumno").value;
    const curso = document.getElementById("cursoAlumno").value;

    if(nombre === "" || dni === "" || curso === ""){
        alert("Complete todos los campos");
        return;
    }

    contador++;
    totalGlobal++;

    document.getElementById("contador").innerText = contador;
    document.getElementById("totalSolicitudes").innerText = totalGlobal;

    /* Tabla Capacitador */
    const tabla = document.getElementById("tablaAlumnos");
    const fila = tabla.insertRow();
    fila.insertCell(0).innerText = nombre;
    fila.insertCell(1).innerText = dni;
    fila.insertCell(2).innerText = curso;
    fila.insertCell(3).innerText = "En proceso";

    /* Tabla Admin */
    const tablaAdmin = document.getElementById("tablaAdmin");
    const filaAdmin = tablaAdmin.insertRow();
    filaAdmin.insertCell(0).innerText = "Capacitador";
    filaAdmin.insertCell(1).innerText = nombre;
    filaAdmin.insertCell(2).innerText = dni;
    filaAdmin.insertCell(3).innerText = curso;
    filaAdmin.insertCell(4).innerText = "Pendiente revisión";

    document.getElementById("nombreAlumno").value = "";
    document.getElementById("dniAlumno").value = "";
    document.getElementById("cursoAlumno").value = "";
}

</script>

</body>
    </html>
