<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DAS | Plataforma Latinoamericana de Auditoría Documental</title>

<link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&display=swap" rel="stylesheet">

<style>
:root{
--azul:#0B1F3A;
--azul-sec:#163A6B;
--azul-brillante:#1F4E8C;
--gris:#f4f6f9;
--texto:#2c3e50;
--verde:#27ae60;
}

body{
font-family:'Inter',sans-serif;
margin:0;
background:var(--gris);
color:var(--texto);
}

/* Barra superior */
.barra-superior{
background:var(--azul-sec);
color:white;
text-align:center;
padding:8px;
font-size:13px;
letter-spacing:1px;
}

/* Header */
header{
background:white;
padding:20px 40px;
display:flex;
justify-content:space-between;
align-items:center;
box-shadow:0 4px 15px rgba(0,0,0,0.05);
}

header img{
height:90px;
}

.header-title{
font-weight:600;
font-size:18px;
color:var(--azul);
}

/* Hero */
.hero{
background:linear-gradient(135deg,#0B1F3A,#163A6B);
color:white;
padding:60px 20px;
text-align:center;
}

.hero h1{
margin:0;
font-size:28px;
}

.hero p{
margin:20px auto;
max-width:700px;
opacity:0.9;
}

.status-sistema{
margin-top:15px;
color:#2ecc71;
font-size:13px;
}

/* Container */
.container{
max-width:800px;
margin:-40px auto 40px auto;
background:white;
padding:40px;
border-radius:15px;
box-shadow:0 15px 40px rgba(0,0,0,0.08);
}

/* Form */
form{
display:flex;
flex-direction:column;
gap:15px;
}

input{
padding:14px;
border-radius:8px;
border:1px solid #e0e6ed;
font-size:15px;
}

button{
padding:14px;
border:none;
border-radius:8px;
background:linear-gradient(135deg,#163A6B,#1F4E8C);
color:white;
font-weight:600;
cursor:pointer;
}

/* Loader */
.loader{
text-align:center;
font-weight:600;
color:var(--azul-sec);
animation:pulse 1s infinite;
}

@keyframes pulse{
0%{opacity:0.4;}
50%{opacity:1;}
100%{opacity:0.4;}
}

/* Result */
.result{
margin-top:30px;
padding:30px;
border-radius:12px;
border:1px solid #e5e9f2;
display:none;
animation:fadeIn 0.4s ease-in-out;
}

@keyframes fadeIn{
from{opacity:0; transform:translateY(10px);}
to{opacity:1; transform:translateY(0);}
}

.status{
padding:6px 12px;
border-radius:6px;
color:white;
font-size:13px;
font-weight:600;
}

.aprobado{background:var(--verde);}
.rechazado{background:#e74c3c;}

.qr{
margin-top:20px;
text-align:center;
}

/* Panel Admin */
.admin-panel{
position:fixed;
bottom:20px;
right:20px;
background:white;
padding:20px;
border-radius:10px;
box-shadow:0 10px 30px rgba(0,0,0,0.2);
display:none;
width:280px;
font-size:13px;
}
.admin-panel h4{
margin-top:0;
}
footer{
background:var(--azul);
color:white;
padding:40px 20px;
text-align:center;
font-size:13px;
}
</style>
</head>

<body>

<div class="barra-superior">
Plataforma Latinoamericana de Validación Documental – DAS
</div>

<header>
<img src="https://i.postimg.cc/D0T5XNJX/file-00000000ea5c71f5af05c32a457144cb.png">
<div class="header-title">
Departamento de Auditoría y Servicios
</div>
</header>

<section class="hero">
<h1>Plataforma de Verificación y Auditoría Documental</h1>
<p>Sistema digital con registro electrónico y trazabilidad verificable.</p>
<div class="status-sistema">
● Sistema en línea – Base de datos activa
</div>
</section>

<div class="container">

<h3>Validación de Documentación</h3>

<form id="searchForm">
<input type="text" id="cu" placeholder="Código Único de Validación (CUV)" required>
<input type="text" id="dni" placeholder="Documento Nacional de Identidad (DNI)" required>
<button type="submit">Verificar Documento</button>
</form>

<div class="result" id="resultBox"></div>

</div>

<footer>
Infraestructura protegida bajo protocolo TLS.<br>
Estándares internos DAS-REG v2.6<br><br>
© 2026 DAS – Todos los derechos reservados.
</footer>

<!-- PANEL ADMIN OCULTO -->
<div class="admin-panel" id="adminPanel">
<h4>Panel Administrativo</h4>
<p><strong>Verificaciones realizadas:</strong> <span id="contador">0</span></p>
<p><strong>Último ID Consulta:</strong> <span id="lastId">-</span></p>
</div>

<script>
const registros=[
{
cu:"24639",
dni:"41932030",
nombre:"Milena Milagros Adoracion Díaz",
tipo:"Analítico y Título – Nivel Secundario",
fecha:"13/02/2026 – 16:14 hs.",
estado:"aprobado"
}
];

let contadorVerificaciones=0;

async function generarHash(texto){
const encoder=new TextEncoder();
const data=encoder.encode(texto);
const hash=await crypto.subtle.digest("SHA-256",data);
return Array.from(new Uint8Array(hash)).map(b=>b.toString(16).padStart(2,"0")).join("");
}

document.getElementById("searchForm").addEventListener("submit",async function(e){
e.preventDefault();

const cu=document.getElementById("cu").value.trim();
const dni=document.getElementById("dni").value.trim();
const box=document.getElementById("resultBox");

box.style.display="block";
box.innerHTML="<div class='loader'>Consultando base de datos segura...</div>";

setTimeout(async()=>{
const registro=registros.find(r=>r.cu===cu && r.dni===dni);

if(registro){

contadorVerificaciones++;
const consultaId="DAS-VRF-"+Math.floor(Math.random()*999999);
const hash=await generarHash(registro.nombre+registro.dni+Date.now());

document.getElementById("contador").innerText=contadorVerificaciones;
document.getElementById("lastId").innerText=consultaId;

box.innerHTML=`
<p><strong>Titular:</strong> ${registro.nombre}</p>
<p><strong>Documento:</strong> ${registro.tipo}</p>
<p><strong>Fecha de Validación:</strong> ${registro.fecha}</p>
<p><strong>Estado:</strong> <span class="status ${registro.estado}">
${registro.estado.toUpperCase()}
</span></p>

<p><strong>ID Consulta:</strong> ${consultaId}</p>
<p style="font-size:11px; word-break:break-all;">
<strong>Hash SHA-256:</strong><br>${hash}
</p>

<div class="qr">
<img src="https://api.qrserver.com/v1/create-qr-code/?size=150x150&data=${consultaId}">
<p style="font-size:12px;">QR de verificación</p>
</div>
`;
}else{
box.innerHTML="<p style='color:red;font-weight:600;'>No se encontró ningún registro.</p>";
}
},1500);

});

// Activar panel admin con Ctrl+Shift+D
document.addEventListener("keydown",function(e){
if(e.ctrlKey && e.shiftKey && e.key==="D"){
const panel=document.getElementById("adminPanel");
panel.style.display=panel.style.display==="block"?"none":"block";
}
});
</script>

</body>
</html>
