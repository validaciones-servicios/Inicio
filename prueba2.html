<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DAS - Inicio de Certificación</title>

<style>
:root{
    --azul:#0B1F3A;
    --azul-sec:#163A6B;
    --verde:#8DC21F;
    --gris:#f4f6f9;
    --gris-oscuro:#e2e6ec;
}

body{
    margin:0;
    font-family:Arial, Helvetica, sans-serif;
    background:var(--gris);
}

.top-line{height:6px;background:var(--verde);}

header{
    background:var(--azul);
    color:white;
    text-align:center;
    padding:30px;
}

.container{
    max-width:950px;
    margin:40px auto;
    background:white;
    padding:40px;
    border-radius:12px;
    box-shadow:0 10px 30px rgba(0,0,0,0.1);
}

/* PROGRESS */
.progress-container{margin-bottom:30px;}
.progress-bar{
    display:flex;
    justify-content:space-between;
    position:relative;
}
.progress-bar::before{
    content:"";
    position:absolute;
    top:15px;
    width:100%;
    height:4px;
    background:var(--gris-oscuro);
}
.progress{
    position:absolute;
    top:15px;
    height:4px;
    background:var(--verde);
    width:0%;
    transition:0.4s;
}
.step{
    text-align:center;
    width:25%;
    position:relative;
}
.circle{
    width:30px;height:30px;border-radius:50%;
    background:var(--gris-oscuro);
    margin:0 auto 6px;
    line-height:30px;
    font-weight:bold;
}
.step.active .circle{
    background:var(--verde);
    color:white;
}

.section{
    background:var(--gris);
    padding:25px;
    border-radius:10px;
    margin-bottom:20px;
}

.hidden{display:none;}

label{font-weight:bold;font-size:14px;}
input,select{
    width:100%;
    padding:10px;
    margin:8px 0 15px;
    border-radius:6px;
    border:1px solid #ccc;
}

button{
    background:var(--azul-sec);
    color:white;
    border:none;
    padding:14px 25px;
    border-radius:6px;
    cursor:pointer;
    font-weight:bold;
}

.loading{text-align:center;padding:30px;}
.spinner{
    border:6px solid #eee;
    border-top:6px solid var(--verde);
    border-radius:50%;
    width:60px;height:60px;
    margin:20px auto;
    animation:spin 1s linear infinite;
}
@keyframes spin{100%{transform:rotate(360deg);}}

footer{
    background:var(--azul);
    color:white;
    text-align:center;
    padding:30px;
    margin-top:40px;
}
</style>
</head>

<body>

<div class="top-line"></div>

<header>
<h1>DAS</h1>
<h3>Departamento de Auditoría y Servicios</h3>
</header>

<div class="container">

<!-- PROGRESS -->
<div class="progress-container">
<div class="progress-bar">
<div class="progress" id="progress"></div>
<div class="step active"><div class="circle">1</div>Selección</div>
<div class="step"><div class="circle">2</div>Datos</div>
<div class="step"><div class="circle">3</div>Confirmar</div>
<div class="step"><div class="circle">4</div>Finalizado</div>
</div>
</div>

<!-- PASO 1 -->
<div id="paso1">
<div class="section">
<h2>Selección del Trámite</h2>

<label>Tipo de documentación</label>
<select id="tipoDoc">
<option value="">Seleccionar</option>
<option>Secundario</option>
<option>Secundario Técnico</option>
<option>Terciario</option>
<option>Profesorado</option>
<option>Universitario</option>
</select>

<label>Modalidad</label>
<select id="modalidad">
<option value="">Seleccionar</option>
<option>Certificación Estándar</option>
<option>Con Auditoría Integral</option>
</select>

<button onclick="nextStep(2)">Continuar</button>
</div>
</div>

<!-- PASO 2 -->
<div id="paso2" class="hidden">
<div class="section">
<h2>Datos Personales</h2>
<input type="text" id="nombre" placeholder="Nombre completo">
<input type="number" id="dni" placeholder="DNI">
<input type="date" id="nacimiento">
<input type="text" id="nacionalidad" placeholder="Nacionalidad">
</div>

<div class="section">
<h2>Datos Académicos</h2>
<input type="text" id="institucion" placeholder="Institución">
<input type="text" id="localidad" placeholder="Localidad">
<input type="text" id="provincia" placeholder="Provincia">
<input type="date" id="egreso">
</div>

<button onclick="mostrarResumen()">Continuar</button>
</div>

<!-- PASO 3 -->
<div id="paso3" class="hidden">
<div class="section">
<h2>Confirmación Final</h2>
<div id="resumen"></div>
<button onclick="iniciarProceso()">Finalizar y Enviar a DAS</button>
</div>
</div>

<!-- CARGA -->
<div id="loading" class="hidden loading">
<h2>Procesando solicitud...</h2>
<div class="spinner"></div>
<p>Generando registro institucional...</p>
</div>

<!-- FINAL -->
<div id="paso4" class="hidden">
<div class="section">
<h2>✔ Trámite iniciado correctamente</h2>
<p>Número de trámite: <strong id="numeroTramite"></strong></p>
</div>
</div>

</div>

<footer>
© 2026 DAS – Departamento de Auditoría y Servicios
</footer>

<script>
function nextStep(step){
document.querySelectorAll("#paso1,#paso2,#paso3,#paso4").forEach(p=>p.classList.add("hidden"));
document.getElementById("paso"+step).classList.remove("hidden");
updateProgress(step);
}

function updateProgress(step){
let steps=document.querySelectorAll(".step");
steps.forEach((s,i)=>{
s.classList.remove("active");
if(i<step) s.classList.add("active");
});
document.getElementById("progress").style.width=((step-1)/3)*100+"%";
}

function mostrarResumen(){
let resumen=`
<b>Tipo:</b> ${tipoDoc.value}<br>
<b>Modalidad:</b> ${modalidad.value}<br>
<b>Nombre:</b> ${nombre.value}<br>
<b>DNI:</b> ${dni.value}<br>
<b>Institución:</b> ${institucion.value}
`;
document.getElementById("resumen").innerHTML=resumen;
nextStep(3);
}

function iniciarProceso(){
document.getElementById("paso3").classList.add("hidden");
document.getElementById("loading").classList.remove("hidden");

setTimeout(()=>{
let numero="DAS-2026-"+Math.floor(1000+Math.random()*9000);
document.getElementById("numeroTramite").innerText=numero;

enviarWhatsApp(numero);

document.getElementById("loading").classList.add("hidden");
nextStep(4);
},2500);
}

function enviarWhatsApp(numero){
let telefono="549XXXXXXXXXX"; // ← PONÉ TU NÚMERO

let mensaje=`Nuevo trámite DAS
Código: ${numero}

Tipo: ${tipoDoc.value}
Modalidad: ${modalidad.value}

Nombre: ${nombre.value}
DNI: ${dni.value}
Nacimiento: ${nacimiento.value}
Nacionalidad: ${nacionalidad.value}

Institución: ${institucion.value}
Localidad: ${localidad.value}
Provincia: ${provincia.value}
Egreso: ${egreso.value}`;

let url="https://wa.me/"+telefono+"?text="+encodeURIComponent(mensaje);
window.open(url,"_blank");
}
</script>

</body>
</html>
