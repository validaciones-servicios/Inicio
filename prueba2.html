<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DAS - Inicio de Certificación</title>

<style>
:root{
    --azul:#0B1F3A;
    --azul-sec:#163A6B;
    --azul-brillante:#1F4E8C;
    --gris:#F4F6F9;
    --blanco:#ffffff;
}

body{
    margin:0;
    font-family: Arial, Helvetica, sans-serif;
    background:linear-gradient(135deg,#0B1F3A,#163A6B);
}

header{
    text-align:center;
    padding:30px;
    color:white;
}

header h1{
    margin:0;
    letter-spacing:2px;
}

.container{
    max-width:950px;
    margin:30px auto 60px auto;
    background:white;
    padding:40px;
    border-radius:12px;
    box-shadow:0 15px 40px rgba(0,0,0,0.2);
}

.section{
    background:#f8f9fb;
    padding:25px;
    border-radius:10px;
    margin-bottom:25px;
}

h2{
    color:var(--azul);
    margin-top:0;
}

label{
    font-weight:bold;
    font-size:14px;
}

small{
    color:#555;
    font-size:12px;
}

select,input{
    width:100%;
    padding:12px;
    margin:8px 0 18px 0;
    border-radius:6px;
    border:1px solid #ccc;
}

button{
    background:var(--azul-brillante);
    color:white;
    border:none;
    padding:14px 25px;
    border-radius:6px;
    cursor:pointer;
    font-weight:bold;
    transition:0.3s;
}

button:hover{
    background:var(--azul);
}

.hidden{ display:none; }

.summary-box{
    background:#eef2f7;
    padding:20px;
    border-radius:8px;
}
</style>
</head>

<body>

<header>
<h1>DAS</h1>
<p>Departamento de Auditoría y Servicios</p>
</header>

<div class="container">

<!-- PASO 1 -->
<div id="paso1" class="section">
<h2>Selección del Trámite</h2>

<label>Tipo de documentación</label>
<select id="tipoDoc" onchange="actualizarPrecio()" required>
<option value="">Seleccionar</option>
<option value="Secundario">Analítico y Título – Secundario</option>
<option value="Secundario Técnico">Analítico y Título – Secundario Técnico</option>
<option value="Terciario">Analítico y Título – Nivel Terciario</option>
<option value="Profesorado">Analítico y Título – Profesorado</option>
<option value="Universitario">Analítico y Título – Nivel Universitario</option>
</select>

<label>Modalidad</label>
<select id="modalidad" onchange="actualizarPrecio()" required>
<option value="">Seleccionar</option>
<option value="Estándar">Certificación Estándar</option>
<option value="Auditoría">Con Auditoría Integral</option>
</select>

<h3 id="precio"></h3>

<button onclick="continuar()">Continuar con el trámite</button>
</div>

<!-- PASO 2 -->
<div id="paso2" class="hidden">

<div class="section">
<h2>Datos Personales</h2>

<label>Nombre(s) y Apellido</label>
<input type="text" id="nombre" required>

<label>Número de DNI</label>
<input type="number" id="dni" required>

<label>Fecha de nacimiento</label>
<small>Seleccionar la fecha exacta de nacimiento del titular del certificado.</small>
<input type="date" id="nacimiento" required>

<label>Nacionalidad</label>
<input type="text" id="nacionalidad" required>
</div>

<div class="section">
<h2>Datos Académicos</h2>

<label>Nombre de la Institución</label>
<input type="text" id="institucion" required>

<label>Dirección de la Institución</label>
<input type="text" id="direccion" required>

<label>Localidad</label>
<input type="text" id="localidad" required>

<label>Provincia</label>
<input type="text" id="provincia" required>

<label>Fecha de egreso</label>
<small>Indicar la fecha en que finalizó y aprobó la totalidad del plan de estudios.</small>
<input type="date" id="egreso" required>
</div>

<button onclick="mostrarResumen()">Ver resumen previo</button>
</div>

<!-- PASO 3 -->
<div id="paso3" class="hidden section">
<h2>Confirmación Final</h2>
<div class="summary-box" id="resumen"></div>
<br>
<button onclick="enviarWhatsApp()">Finalizar y Enviar a DAS</button>
</div>

</div>

<script>

const precios = {
"Secundario":{Estándar:100000, Auditoría:150000},
"Secundario Técnico":{Estándar:110000, Auditoría:160000},
"Terciario":{Estándar:120000, Auditoría:170000},
"Profesorado":{Estándar:140000, Auditoría:190000},
"Universitario":{Estándar:160000, Auditoría:210000}
};

let codigoUnico="";

function generarCodigo(){
    let año=new Date().getFullYear();
    let random=Math.floor(1000+Math.random()*9000);
    codigoUnico="DAS-"+año+"-"+random;
}

function actualizarPrecio(){
    let tipo=tipoDoc.value;
    let mod=modalidad.value;
    if(tipo && mod){
        precio.innerText="Valor del trámite: $"+precios[tipo][mod].toLocaleString();
    }
}

function continuar(){
    if(!tipoDoc.value || !modalidad.value){
        alert("Debe seleccionar tipo de documentación y modalidad.");
        return;
    }
    generarCodigo();
    paso1.classList.add("hidden");
    paso2.classList.remove("hidden");
}

function mostrarResumen(){

let campos=document.querySelectorAll("#paso2 input");
for(let campo of campos){
    if(!campo.value){
        alert("Todos los campos son obligatorios.");
        return;
    }
}

resumen.innerHTML=`
<strong>Código Único:</strong> ${codigoUnico}<br><br>
<strong>${tipoDoc.value}</strong><br>
<strong>${modalidad.value}</strong><br>
<strong>${precio.innerText}</strong><br><br>

<strong>Nombre:</strong> ${nombre.value}<br>
<strong>DNI:</strong> ${dni.value}<br>
<strong>Fecha de nacimiento:</strong> ${nacimiento.value}<br>
<strong>Nacionalidad:</strong> ${nacionalidad.value}<br><br>

<strong>Institución:</strong> ${institucion.value}<br>
<strong>Dirección:</strong> ${direccion.value}<br>
<strong>Localidad:</strong> ${localidad.value}<br>
<strong>Provincia:</strong> ${provincia.value}<br>
<strong>Fecha de egreso:</strong> ${egreso.value}
`;

paso2.classList.add("hidden");
paso3.classList.remove("hidden");
}

function enviarWhatsApp(){

let mensaje=`
NUEVO TRÁMITE DAS

Código: ${codigoUnico}
${tipoDoc.value}
${modalidad.value}
${precio.innerText}

Nombre: ${nombre.value}
DNI: ${dni.value}
Nacimiento: ${nacimiento.value}
Nacionalidad: ${nacionalidad.value}

Institución: ${institucion.value}
Dirección: ${direccion.value}
Localidad: ${localidad.value}
Provincia: ${provincia.value}
Egreso: ${egreso.value}
`;

let url="https://wa.me/5491151461885?text="+encodeURIComponent(mensaje);
window.open(url,"_blank");
}

</script>

</body>
</html>
