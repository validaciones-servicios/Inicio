<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>DAS | Inicio de Certificación</title>

<style>
:root{
    --das-azul:#0A192F;
    --das-azul-sec:#112D4E;
    --das-dorado:#C6A75E;
    --das-gris:#F4F6F9;
    --das-blanco:#FFFFFF;
}

body{
    margin:0;
    font-family: 'Segoe UI', sans-serif;
    background:var(--das-gris);
}

header{
    background:var(--das-azul);
    color:white;
    padding:25px;
    text-align:center;
    letter-spacing:1px;
}

header h1{
    margin:0;
    font-weight:600;
}

header p{
    margin:5px 0 0 0;
    font-size:14px;
    opacity:0.8;
}

.container{
    max-width:950px;
    margin:40px auto;
    background:white;
    padding:40px;
    border-radius:12px;
    box-shadow:0 15px 40px rgba(0,0,0,0.08);
}

h2{
    color:var(--das-azul);
    margin-top:0;
}

label{
    font-weight:500;
    font-size:14px;
}

select,input{
    width:100%;
    padding:12px;
    margin:8px 0 18px 0;
    border-radius:8px;
    border:1px solid #dcdcdc;
    font-size:14px;
}

input:invalid{
    border:1px solid #c0392b;
}

button{
    background:var(--das-azul-sec);
    color:white;
    border:none;
    padding:14px 25px;
    border-radius:8px;
    cursor:pointer;
    font-weight:600;
    transition:0.3s;
}

button:hover{
    background:var(--das-dorado);
    color:black;
}

.hidden{ display:none; }

.progress{
    height:6px;
    background:#ddd;
    border-radius:5px;
    margin-bottom:30px;
    overflow:hidden;
}

.progress-bar{
    height:100%;
    width:33%;
    background:var(--das-dorado);
    transition:0.4s;
}

.summary-box{
    background:#f8f9fb;
    padding:25px;
    border-radius:10px;
    border-left:4px solid var(--das-dorado);
}
</style>
</head>

<body>

<header>
<h1>DAS</h1>
<p>Departamento de Auditoría y Servicios</p>
</header>

<div class="container">

<div class="progress">
<div class="progress-bar" id="progressBar"></div>
</div>

<!-- PASO 1 -->
<div id="paso1">
<h2>Selección de Certificación</h2>

<label>Tipo de documentación</label>
<select id="tipoDoc" required onchange="actualizarPrecio()">
<option value="">Seleccionar</option>
<option value="Secundario">Secundario</option>
<option value="Secundario Técnico">Secundario Técnico</option>
<option value="Terciario">Terciario</option>
<option value="Profesorado">Profesorado</option>
<option value="Universitario">Universitario</option>
</select>

<label>Modalidad</label>
<select id="modalidad" required onchange="actualizarPrecio()">
<option value="">Seleccionar</option>
<option value="Estándar">Certificación Estándar</option>
<option value="Auditoría">Con Auditoría Integral</option>
</select>

<h3 id="precio"></h3>

<button onclick="continuar()">Continuar</button>
</div>

<!-- PASO 2 -->
<div id="paso2" class="hidden">
<h2>Datos Personales</h2>

<input type="text" id="nombre" placeholder="Nombre(s) y Apellido" required>
<input type="number" id="dni" placeholder="Número de DNI" required>
<input type="date" id="nacimiento" required>
<input type="text" id="nacionalidad" placeholder="Nacionalidad" required>

<h2>Datos Académicos</h2>

<input type="text" id="institucion" placeholder="Nombre de la Institución" required>
<input type="text" id="direccion" placeholder="Dirección" required>
<input type="text" id="localidad" placeholder="Localidad" required>
<input type="text" id="provincia" placeholder="Provincia" required>
<input type="date" id="egreso" required>

<button onclick="mostrarResumen()">Ver Resumen</button>
</div>

<!-- PASO 3 -->
<div id="paso3" class="hidden">
<h2>Confirmación Final</h2>

<div class="summary-box" id="resumen"></div>

<br>
<button onclick="enviarWhatsApp()">Finalizar y Enviar</button>
</div>

</div>

<script>

const precios = {
"Secundario":{Estándar:100000, Auditoría:150000},
"Secundario Técnico":{Estándar:110000, Auditoría:160000},
"Terciario":{Estándar:120000, Auditoría:170000},
"Profesorado":{Estándar:140000, Auditoría:190000},
"Universitario":{Estándar:160000, Auditoría:210000}
};

let codigoUnico = "";

function generarCodigo(){
    let año = new Date().getFullYear();
    let random = Math.floor(1000 + Math.random() * 9000);
    codigoUnico = "DAS-" + año + "-" + random;
}

function actualizarPrecio(){
    let tipo = tipoDoc.value;
    let mod = modalidad.value;
    if(tipo && mod){
        precio.innerText = "Honorarios Profesionales: $" + precios[tipo][mod].toLocaleString();
    }
}

function continuar(){
    if(!tipoDoc.value || !modalidad.value){
        alert("Debe seleccionar tipo de documentación y modalidad.");
        return;
    }
    generarCodigo();
    paso1.classList.add("hidden");
    paso2.classList.remove("hidden");
    progressBar.style.width="66%";
}

function mostrarResumen(){

let campos = document.querySelectorAll("#paso2 input");
for(let campo of campos){
    if(!campo.value){
        alert("Todos los campos son obligatorios.");
        return;
    }
}

let resumenHTML = `
<strong>Código Único:</strong> ${codigoUnico}<br><br>
<strong>Tipo:</strong> ${tipoDoc.value}<br>
<strong>Modalidad:</strong> ${modalidad.value}<br>
<strong>${precio.innerText}</strong><br><br>

<strong>Nombre:</strong> ${nombre.value}<br>
<strong>DNI:</strong> ${dni.value}<br>
<strong>Nacimiento:</strong> ${nacimiento.value}<br>
<strong>Nacionalidad:</strong> ${nacionalidad.value}<br><br>

<strong>Institución:</strong> ${institucion.value}<br>
<strong>Dirección:</strong> ${direccion.value}<br>
<strong>Localidad:</strong> ${localidad.value}<br>
<strong>Provincia:</strong> ${provincia.value}<br>
<strong>Egreso:</strong> ${egreso.value}
`;

resumen.innerHTML = resumenHTML;

paso2.classList.add("hidden");
paso3.classList.remove("hidden");
progressBar.style.width="100%";
}

function enviarWhatsApp(){

let mensaje = `
NUEVO TRÁMITE DAS

Código: ${codigoUnico}
Tipo: ${tipoDoc.value}
Modalidad: ${modalidad.value}
${precio.innerText}

Nombre: ${nombre.value}
DNI: ${dni.value}
Nacimiento: ${nacimiento.value}
Nacionalidad: ${nacionalidad.value}

Institución: ${institucion.value}
Dirección: ${direccion.value}
Localidad: ${localidad.value}
Provincia: ${provincia.value}
Egreso: ${egreso.value}
`;

let url = "https://wa.me/5491151461885?text=" + encodeURIComponent(mensaje);
window.open(url, "_blank");
}

</script>

</body>
</html>
