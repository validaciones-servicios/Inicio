<!DOCTYPE html>
<html lang="es">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Registro Federal de Egreso</title>

<style>
:root{
  --celeste:#37BBED;
  --verde:#8DC21F;
  --gris:#e9ecef;
  --texto:#333;
}

*{
  box-sizing:border-box;
  font-family:Arial, Helvetica, sans-serif;
}

body{
  margin:0;
  background:#fff;
  color:var(--texto);
}

header{
  background:var(--celeste);
  padding:20px;
}

.header-top{
  display:flex;
  align-items:center;
  gap:10px;
  margin-bottom:20px;
}

.header-top img{
  height:38px;
}

.header-title{
  color:#fff;
}

.header-title h1{
  font-size:22px;
  margin:0;
  font-weight:600;
}

.header-title h2{
  font-size:18px;
  margin:5px 0 0;
  font-weight:400;
}

main{
  max-width:520px;
  margin:0 auto;
  padding:20px 15px;
}

.form-group{
  display:flex;
  margin-bottom:10px;
}

.form-label{
  background:var(--gris);
  padding:12px;
  min-width:45%;
  border-radius:6px 0 0 6px;
  font-size:14px;
}

.form-control{
  width:100%;
  padding:12px;
  border:1px solid #ccc;
  border-left:none;
  border-radius:0 6px 6px 0;
  font-size:14px;
}

.buttons{
  display:flex;
  gap:10px;
}

.btn{
  flex:1;
  padding:12px;
  border:none;
  border-radius:6px;
  font-size:16px;
  color:#fff;
  cursor:pointer;
}

.btn-reset{ background:#4cc1ef; }
.btn-search{ background:var(--verde); }

#infoEstudiante{
  display:none;
  margin-top:25px;
}

.student-info{
  background:var(--celeste);
  color:#fff;
  padding:12px;
  border-radius:6px;
  font-weight:bold;
  margin-bottom:10px;
}

.table-wrapper{
  overflow-x:auto;
}

table{
  width:100%;
  border-collapse:collapse;
  font-size:13px;
}

th,td{
  border:1px solid #ccc;
  padding:8px;
  text-align:left;
}

th{
  background:var(--celeste);
  color:#fff;
}

.blockchain-icon img{
  width:22px;
  display:block;
  margin:auto;
}

.certificado-item{
  background:#f8f9fa;
  padding:10px;
  border-radius:8px;
  margin-top:12px;
  border:1px solid #ddd;
}

.certificado-titulo{
  font-weight:bold;
  margin-bottom:6px;
}

.certificado-botones{
  display:flex;
  gap:8px;
}

.certificado-botones a{
  flex:1;
  text-align:center;
  text-decoration:none;
  color:#fff;
  padding:10px;
  border-radius:6px;
  background:var(--verde);
}

.info-text{
  font-size:13px;
  margin-top:25px;
}
</style>
</head>

<body>

<header>
  <div class="header-top">
    <img src="https://refe.educacion.gob.ar/img/ReFE/Banner/ReFE-Banner.svg">
  </div>
  <div class="header-title">
    <h1>Dirección de Validez Nacional de Títulos y Estudios</h1>
    <h2>Registro Federal de Egreso</h2>
  </div>
</header>

<main>

<form>

  <div class="form-group">
    <div class="form-label">Tipo de Documento</div>
    <select id="tipoDoc" class="form-control">
      <option>DNI</option>
    </select>
  </div>

  <div class="form-group">
    <div class="form-label">Número de Documento</div>
    <input id="numeroDoc" class="form-control">
  </div>

  <div class="form-group">
    <div class="form-label">Apellido</div>
    <input id="apellido" class="form-control">
  </div>

  <div class="form-group">
    <div class="form-label">Nombre</div>
    <input id="nombre" class="form-control">
  </div>

  <div class="buttons">
    <button type="button" class="btn btn-reset" id="nuevaBusqueda">Nueva búsqueda</button>
    <button type="button" class="btn btn-search" id="buscarBtn">Buscar</button>
  </div>

</form>

<div id="infoEstudiante">
  <div class="student-info" id="studentName"></div>

  <div class="table-wrapper">
    <table>
      <thead>
        <tr>
          <th>Tipo</th>
          <th>DNI</th>
          <th>Título</th>
          <th>Jurisdicción</th>
          <th>Institución</th>
          <th>CUE</th>
          <th>Fecha</th>
          <th>Serie</th>
          <th>Blockchain</th>
        </tr>
      </thead>
      <tbody id="tablaBody"></tbody>
    </table>
  </div>

  <div id="certificadosBtns"></div>
</div>

<div class="info-text">
  Por la Resolución CFE N° 440/23, los títulos son emitidos en formato digital.
</div>

</main>

<script>

const numeroDoc = document.getElementById("numeroDoc");
const apellido = document.getElementById("apellido");
const nombre = document.getElementById("nombre");
const tipoDoc = document.getElementById("tipoDoc");
const buscarBtn = document.getElementById("buscarBtn");
const nuevaBusqueda = document.getElementById("nuevaBusqueda");
const infoEstudiante = document.getElementById("infoEstudiante");
const tablaBody = document.getElementById("tablaBody");
const certificadosBtns = document.getElementById("certificadosBtns");
const studentName = document.getElementById("studentName");



buscarBtn.onclick = () => {

  const resultados = datosEstudiantes.filter(
    e => e.dni === numeroDoc.value.trim()
  );

  if(resultados.length === 0){
    alert("No se encontró el DNI");
    return;
  }

  infoEstudiante.style.display = "block";

  const primero = resultados[0];

  apellido.value = primero.apellido;
  nombre.value = primero.nombre;
  tipoDoc.value = primero.tipoDoc;

  studentName.textContent = `${primero.nombre} ${primero.apellido}`;

  tablaBody.innerHTML = "";
  certificadosBtns.innerHTML = "";

  resultados.forEach(r => {
    tablaBody.innerHTML += `
      <tr>
        <td>${r.tipoDoc}</td>
        <td>${r.dni}</td>
        <td>${r.titulo}</td>
        <td>${r.jurisdiccion}</td>
        <td>${r.institucion}</td>
        <td>${r.cue}</td>
        <td>${r.fechaEgreso}</td>
        <td>${r.serie}</td>
        <td class="blockchain-icon">
          <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcSsus-xHMIn_qBJifbW7JVsUklXhJUXTq1Wq2TOFZsxEA&s=10">
        </td>
      </tr>
    `;

    certificadosBtns.innerHTML += `
      <div class="certificado-item">
        <div class="certificado-titulo">${r.titulo}</div>
        <div class="certificado-botones">
          <a href="#">Certificado Analítico</a>
          <a href="#">Certificado de Título</a>
        </div>
      </div>
    `;
  });

};

nuevaBusqueda.onclick = () => location.reload();

</script>

</body>
</html>
